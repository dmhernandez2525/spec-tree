# F12.2 - Compliance & Audit

## Overview

Compliance checking against GDPR requirements, data retention policy management, data subject request handling, and markdown compliance reporting.

## Architecture

```
Client/lib/organization/
  compliance.ts        # GDPR checks, retention policies, DSR handling
  compliance.test.ts   # 80 tests
```

## Features

| Function | Purpose |
|----------|---------|
| createComplianceCheck | Create check for a standard/requirement |
| runGDPRChecks | Evaluate 6 GDPR requirements against boolean config |
| calculateComplianceScore | Percentage score (partial = 0.5) |
| getOverallStatus | Aggregate status from individual checks |
| generateComplianceReport | Full report with score and recommendations |
| createRetentionPolicy | Define data type retention period |
| isDataExpired | Check record against retention policy |
| createDataSubjectRequest | GDPR access/deletion/portability/rectification request |
| completeDataSubjectRequest | Mark DSR as completed |
| getExpiredData | Find records exceeding retention policies |
| formatComplianceReport | Markdown-formatted report output |

## Default Retention Policies

| Data Type | Retention | Auto-Delete |
|-----------|-----------|-------------|
| user-data | 730 days | Yes |
| audit-logs | 365 days | No |
| session-data | 30 days | Yes |
| analytics | 90 days | Yes |

## Supported Standards

gdpr, hipaa, soc2, iso27001

## Test Coverage

80 tests: GDPR_REQUIREMENTS (7), DEFAULT_RETENTION_POLICIES (6), createComplianceCheck (6), runGDPRChecks (7), calculateComplianceScore (6), getOverallStatus (6), generateComplianceReport (8), createRetentionPolicy (5), isDataExpired (4), createDataSubjectRequest (6), completeDataSubjectRequest (4), getExpiredData (5), formatComplianceReport (10).
