# F10.1 - AI Prompt Marketplace

## Overview

Prompt template marketplace with filtering, search, rating, validation, and variable substitution for reusable AI prompts across the SpecTree platform.

## Architecture

```
Client/lib/marketplace/
  prompt-store.ts       # Template filtering, search, rating, validation, formatting
  marketplace.test.ts   # 40 tests
```

## Features

- **Filtering**: Filter prompts by category, minimum rating, and tags with sort options (popular, recent, rating)
- **Search**: Case-insensitive keyword matching across title, description, and tags
- **Rating**: Weighted average calculation that adjusts incrementally with each new rating, rounded to 2 decimal places
- **Variable Substitution**: Replace `{{variable}}` placeholders in prompt templates with provided values; unmatched placeholders are preserved
- **Validation**: Checks required fields (title, description, prompt, category, author, version) and value ranges (rating 0-5)
- **Popular Tags**: Frequency-sorted tag aggregation with optional limit, normalized to lowercase

## Categories

```
specification | generation | review | export
```

## Data Model

| Field       | Type     | Description                    |
|-------------|----------|--------------------------------|
| id          | string   | Unique template identifier     |
| title       | string   | Template display name          |
| description | string   | What the prompt does           |
| category    | string   | One of four prompt categories  |
| prompt      | string   | Template text with `{{vars}}`  |
| author      | string   | Creator name                   |
| rating      | number   | Average score (0-5)            |
| usageCount  | number   | Total times used               |
| tags        | string[] | Searchable keyword tags        |
| version     | string   | Semver version string          |

## Test Coverage

40 tests: filterPrompts (8), searchPrompts (7), ratePrompt (4), formatPromptForUse (5), validatePromptTemplate (9), getPopularTags (7).
