# F9.1 - Demo Mode

## Overview

Portfolio demo mode allowing the app to be showcased without real authentication, database, or API keys. Controlled by the `NEXT_PUBLIC_DEMO_MODE` environment variable.

## Architecture

```
Client/lib/demo/
  demo-data.ts          # Mock users, org, workspace, and full spec hierarchy
  demo-mode.ts          # isDemoMode(), session creation, Redux state builder
  demo.test.ts          # 48 tests covering all demo data and utilities
  index.ts              # Barrel exports

Client/components/demo/
  DemoBanner.tsx         # Sticky yellow banner with role badge and exit button
  DemoRoleSelector.tsx   # Card-based role selection (Admin, Editor, Viewer)
```

## Demo Data

| Entity | Count | Details |
|--------|-------|---------|
| Users | 3 | Admin, Editor, Viewer (all @demo.example) |
| Epics | 2 | "User Authentication System", "Project Dashboard" |
| Features | 4 | 2 per epic |
| User Stories | 8 | 2 per feature, role/action/goal format |
| Tasks | 16 | 2 per story, priorities 1-2 |

All IDs prefixed with `demo-` to prevent collisions with real data.

## Flow

```
Marketing Pages (unchanged)
    |
    v
/sign-in or /sign-up
    |
    +-- DEMO_MODE=false -> Real Auth (Clerk)
    |
    +-- DEMO_MODE=true  -> DemoRoleSelector
                              |
                              v
                        /user-dashboard with demo data
                        (DemoBanner shown at top)
```

## Environment

```env
NEXT_PUBLIC_DEMO_MODE=true   # Enable demo mode
```

## Test Coverage

48 tests covering: isDemoMode (5), createDemoSession (5), getDemoStateForRole (9), demo data integrity (27), DEMO_ROLES (2).
