# F11.2 - Natural Language to Spec

## Overview

Converts natural language descriptions into structured specification nodes with entity extraction, type inference, acceptance criteria detection, and dependency discovery.

## Architecture

```
Client/lib/ai/
  nl-to-spec.ts        # NL parsing, entity extraction, spec conversion
  nl-to-spec.test.ts   # 92 tests
```

## Features

| Function | Purpose |
|----------|---------|
| extractEntities | Detects actors, systems, components, actions, constraints from text |
| inferSpecType | Classifies text as epic, feature, story, or task |
| extractAcceptanceCriteria | Finds Given/When/Then, bullet points, numbered lists, "should" statements |
| inferPriority | Keyword-based priority assignment (high/medium/low) |
| generateSpecId | Sequential SPEC-001 style ID generation |
| convertToSpec | Main conversion orchestrator with confidence scoring |
| splitIntoSections | Splits text by markdown headers, double newlines, numbered sections |
| detectDependencies | Finds "depends on", "requires", "blocked by" references |

## Entity Types

actor, system, component, action, constraint

## Spec Types

epic (>500 chars or "epic" keyword), story ("as a...I want"), task (action verbs), feature (default)

## Test Coverage

92 tests: extractEntities (12), inferSpecType (10), extractAcceptanceCriteria (9), inferPriority (13), generateSpecId (5), resetSpecCounter (1), splitIntoSections (7), detectDependencies (9), convertToSpec (26).
